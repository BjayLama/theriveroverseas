<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Switcher</title>
    <style>
        body {
            margin: 0;
            background: #fafafb;
            font-family: sans-serif;
        }

        #language-switcher {
            max-width: 156px;
            position: relative;
        }

        #selector {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            height: 40px;
            padding: 8px 16px;
            border: 1px solid #ccc;
            border-radius: 6px;
            background: #fff;
            font-size: 13px;
            cursor: pointer;
        }

        #selector i {
            margin-right: 6px;
        }

        #options {
            position: absolute;
            top: 110%;
            left: 0;
            width: 100%;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 6px;
            display: none;
            flex-direction: column;
        }

        .option {
            padding: 8px;
            font-size: 13px;
            cursor: pointer;
        }

        .option.active {
            background: #e9f7ff;
            color: #0870d3;
        }

        .option:hover:not(.active) {
            background: #f0f0f0;
        }
    </style>
</head>

<body>
    <div id="language-switcher">
        <div id="selector"><i class="fa-solid fa-globe"></i><span id="default-lang"></span></div>
        <div id="options"></div>
    </div>

    <script>
        const langs = [
            { value: "en", label: "English (US)", url: "/home" },
            { value: "np", label: "Nepali", url: "/de/home" },
            { value: "ko", label: "Korean", url: "/ko/home" }
        ];

        const options = document.getElementById("options"),
            selector = document.getElementById("selector"),
            defaultLang = document.getElementById("default-lang");

        function setLang(val, label) {
            document.documentElement.lang = val;
            defaultLang.textContent = label;
            [...options.children].forEach(opt => {
                opt.classList.toggle("active", opt.dataset.value === val);
            });
        }

        langs.forEach(lang => {
            let opt = document.createElement("div");
            opt.className = "option";
            opt.textContent = lang.label;
            opt.dataset.value = lang.value;
            opt.onclick = () => { setLang(lang.value, lang.label); options.style.display = "none"; };
            options.appendChild(opt);
        });

        // set initial language
        let init = langs.find(l => l.value === document.documentElement.lang) || langs[0];
        setLang(init.value, init.label);

        selector.onclick = () => options.style.display = options.style.display === "flex" ? "none" : "flex";
        document.addEventListener("click", e => {
            if (!e.target.closest("#language-switcher")) options.style.display = "none";
        });
    </script>
</body>

</html>